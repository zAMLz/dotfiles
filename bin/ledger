#!/bin/sh

# A simple wrapper over ledger that changes default (no argument) behaviour to
# open vim-ledger and also have a "git" subcommand

LEDGER_DIR=${LEDGER_DIR:-$HOME/usr/ledger}
LEDGER_FILE=${LEDGER_DIR}/main.journal

if [ -z "$@" ]; then
    nvim $LEDGER_FILE

elif [ $1 = "git" ]; then
    shift;
    git -C ${LEDGER_DIR} ${@}

elif [ $1 = 'repl' ]; then
    /usr/bin/ledger

elif [ $1 = 'networth' ]; then
    /usr/bin/ledger cleared ^assets ^liabilities

else
    /usr/bin/ledger $@
fi
