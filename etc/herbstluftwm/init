#!/usr/bin/env bash

# this is a simple config for herbstluftwm

# TODO:
#   * Cleanup this file. Maybe split it up into multiple pieces.

hc() {
    herbstclient "$@"
}

hc emit_hook reload

# Reload the xresource data
xrdb -I$HOME $HOME/etc/xorg/xresources
. $HOME/lib/shell/xrdb_colors

# Set the background
if [ -f "$HOME/.fehbg" ]; then
    $HOME/.fehbg
else
    xsetroot -bitmap ~/lib/bitmaps/tile.xbm -fg '#232323' -bg '#0a0a0a'
fi

# Also have to set this here in case xorg isn't started via startx
setxkbmap -option caps:escape

# Use Display Power Management Settings to configure various things.
# + Disable screen blanking (screensaver) (I don't think this works)
xset s off
# + Increases the speed of the keyboard repeat rate
xset r rate 400 50

# Apply keybindings
$HOME/etc/herbstluftwm/keybinds &

# Enable custom rules
$HOME/etc/herbstluftwm/rules &

# Set the theme
$HOME/etc/herbstluftwm/theme &

# Finally start our panel
pkill -x lemonbar; $HOME/etc/lemonbar/lemonbar &
