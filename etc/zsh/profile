
# Regular StartX Boot for Herbsluftwm
if [ -z "$DISPLAY" ] && [ "$(fgconsole 2>/dev/null)" -eq 1 ]; then
    export WINDOW_MANAGER='herbstluftwm'
    export XLOG="$HOME/var/$(date --iso-8601=seconds)"
    exec startx $HOME/etc/xorg/xinitrc herbstluftwm >> $XLOG 2>&1

elif [ -z "$DISPLAY" ] && [ "$(fgconsole 2>/dev/null)" -eq 2 ]; then
    export WINDOW_MANAGER='pyxwm'
    export XLOG="$HOME/var/$(date --iso-8601=seconds)"
    exec startx $HOME/etc/xorg/xinitrc pyxwm >> $XLOG 2>&1

# Trying to Boot to Unity (For Ubuntu Only)
# sudo systemctl disable lightdm.service
# sudo systemctl set-default multi-user.target
# edit /etc/default/grub, remove splash
# sudo update-grub
# To restore: sudo systemctl set-default graphical.target
 elif [ -z "$DISPLAY" ] && [ "$(fgconsole 2>/dev/null)" -eq 2 ] \
                        && [ -n "$(uname -a | grep Ubuntu)" ]; then
     echo "Bypassing Startx; Evoking Unity Desktop"
     echo "You will need to restart to use any other Window Manager"
     echo "Enter password to proceed, or fail three times to cancel"
     sudo systemctl start lightdm.service

fi
